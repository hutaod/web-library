(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{216:function(t,a,s){t.exports=s.p+"assets/img/flux2.5804ff54.png"},217:function(t,a,s){t.exports=s.p+"assets/img/flow.7c7e6d63.png"},257:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"mobx-ä½¿ç”¨æ€»ç»“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mobx-ä½¿ç”¨æ€»ç»“","aria-hidden":"true"}},[t._v("#")]),t._v(" Mobx ä½¿ç”¨æ€»ç»“")]),t._v(" "),n("p",[t._v("æœ¬æ–‡ä¸»è¦ä»‹ç» Mobx çš„ä¸€äº›å¸¸è§ç”¨æ³•å’Œç†å¿µï¼Œä»¥åŠä¸€äº›ä½¿ç”¨æ³¨æ„äº‹é¡¹ï¼Œè¿˜ä¼šå¯¹æ¯” Redux å’Œ Mobx å„è‡ªçš„ä¼˜åŠ¿ï¼Œæœ¬ç¯‡æ–‡ç« ä¸ä¼šè¿‡å¤šçš„è®²è§£ Redux æˆ‘ Mobx çš„æºç ï¼Œåœ¨æ–‡ç« ç»“å°¾å¤„æœ‰å‡ ç¯‡å¯¹ Redux å’Œ Mobx æºç çš„åˆ†æçš„æ–‡ç« ï¼Œæœ‰æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å»çœ‹ä¸€ä¸‹")]),t._v(" "),n("h2",{attrs:{id:"å‰è¨€"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€","aria-hidden":"true"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),n("p",[t._v("å¦‚æœä½ å¯¹ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Redux æˆ–è€… Mobx æœ‰ç–‘æƒ‘çš„è¯ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ä¸‹é¢è¿™æ®µè§£é‡Šï¼š")]),t._v(" "),n("p",[t._v("å½“æˆ‘ä»¬ä½¿ç”¨ React å¼€å‘ web åº”ç”¨ç¨‹åºæ—¶ï¼Œåœ¨ React ç»„ä»¶å†…ï¼Œå¯ä»¥ä½¿ç”¨ this.setState()å’Œ this.state å¤„ç†æˆ–è®¿é—®ç»„ä»¶å†…çŠ¶æ€ï¼Œä½†æ˜¯éšç€é¡¹ç›®å˜å¤§ï¼ŒçŠ¶æ€å˜å¤æ‚ï¼Œé€šå¸¸éœ€è¦è€ƒè™‘ç»„ä»¶é—´é€šä¿¡é—®é¢˜ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ä¸¤ç‚¹ï¼š")]),t._v(" "),n("ol",[n("li",[t._v("æŸä¸€ä¸ªçŠ¶æ€éœ€è¦åœ¨å¤šä¸ªç»„ä»¶é—´å…±äº«ï¼ˆè®¿é—®ï¼Œæ›´æ–°ï¼‰ï¼›")]),t._v(" "),n("li",[t._v("æŸç»„ä»¶å†…äº¤äº’éœ€è¦è§¦å‘å…¶ä»–ç»„ä»¶çš„çŠ¶æ€æ›´æ–°ï¼›")])]),t._v(" "),n("p",[t._v("å…³äºè¿™äº›é—®é¢˜ï¼ŒReact ç»„ä»¶å¼€å‘å®è·µæ¨èå°†å…¬ç”¨ç»„ä»¶çŠ¶æ€æå‡ï¼š")]),t._v(" "),n("p",[t._v("é€šå¸¸å¤šç»„ä»¶éœ€è¦å¤„ç†åŒä¸€çŠ¶æ€ï¼Œæˆ‘ä»¬æ¨èå°†å…±äº«çŠ¶æ€æå‡è‡³ä»–ä»¬çš„å…±åŒæœ€è¿‘ç¥–å…ˆç»„ä»¶å†…ã€‚")]),t._v(" "),n("p",[t._v("å½“é¡¹ç›®è¶Šå‘å¤æ‚æ—¶ï¼Œæˆ‘ä»¬å‘ç°ä»…ä»…æ˜¯æå‡çŠ¶æ€å·²ç»æ— æ³•é€‚åº”å¦‚æ­¤å¤æ‚çš„çŠ¶æ€ç®¡ç†äº†ï¼Œç¨‹åºçŠ¶æ€å˜å¾—æ¯”è¾ƒéš¾åŒæ­¥ï¼Œæ“ä½œï¼Œåˆ°å¤„æ˜¯å›è°ƒï¼Œå‘å¸ƒï¼Œè®¢é˜…ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦æ›´å¥½çš„çŠ¶æ€ç®¡ç†æ–¹å¼ï¼Œäºæ˜¯å°±å¼•å…¥äº†çŠ¶æ€ç®¡ç†åº“ï¼Œå¦‚"),n("code",[t._v("Redux")]),t._v("ï¼Œ"),n("code",[t._v("Mobx")]),t._v("ç­‰ã€‚")]),t._v(" "),n("h2",{attrs:{id:"çŠ¶æ€ç®¡ç†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#çŠ¶æ€ç®¡ç†","aria-hidden":"true"}},[t._v("#")]),t._v(" çŠ¶æ€ç®¡ç†")]),t._v(" "),n("p",[t._v("çŠ¶æ€ç®¡ç†åº“ï¼Œæ— è®ºæ˜¯ Reduxï¼Œè¿˜æ˜¯ Mobx è¿™äº›ï¼Œå…¶æœ¬è´¨éƒ½æ˜¯ä¸ºäº†è§£å†³çŠ¶æ€ç®¡ç†æ··ä¹±ï¼Œæ— æ³•æœ‰æ•ˆåŒæ­¥çš„é—®é¢˜ï¼Œå®ƒä»¬éƒ½æ”¯æŒï¼š")]),t._v(" "),n("ol",[n("li",[t._v("ç»Ÿä¸€ç»´æŠ¤ç®¡ç†åº”ç”¨çŠ¶æ€ï¼›")]),t._v(" "),n("li",[t._v("æŸä¸€çŠ¶æ€åªæœ‰ä¸€ä¸ªå¯ä¿¡æ•°æ®æ¥æºï¼Œé€šå¸¸å‘½åä¸º storeï¼ŒæŒ‡çŠ¶æ€å®¹å™¨ï¼›")]),t._v(" "),n("li",[t._v("æ“ä½œæ›´æ–°çŠ¶æ€æ–¹å¼ç»Ÿä¸€ï¼Œå¹¶ä¸”å¯æ§ï¼Œé€šå¸¸ä»¥ action æ–¹å¼æä¾›æ›´æ–°çŠ¶æ€çš„é€”å¾„ï¼›")]),t._v(" "),n("li",[t._v("æ”¯æŒå°† store ä¸ React ç»„ä»¶è¿æ¥ï¼Œå¦‚"),n("code",[t._v("react-redux")]),t._v("ï¼Œ"),n("code",[t._v("mobx-react")]),t._v("ï¼›é€šå¸¸ä½¿ç”¨çŠ¶æ€ç®¡ç†åº“åï¼Œæˆ‘ä»¬å°† React ç»„ä»¶ä»ä¸šåŠ¡ä¸Šåˆ’åˆ†ä¸ºä¸¤ç±»ï¼š\n"),n("ol",[n("li",[t._v("å®¹å™¨ç»„ä»¶ï¼ˆContainer Componentsï¼‰ï¼šå«æœ‰æŠ½è±¡æ•°æ®è€Œæ²¡æœ‰ä¸šåŠ¡é€»è¾‘çš„ç»„ä»¶ï¼›")]),t._v(" "),n("li",[t._v("å±•ç¤ºå‹ç»„ä»¶ï¼ˆPresentation Componentsï¼‰ï¼šè´Ÿè´£å±•ç¤ºè§†å›¾ï¼Œè§†å›¾äº¤äº’å›è°ƒå†…è°ƒç”¨ä¼ å…¥çš„å¤„ç†å‡½æ•°ï¼›")])])])]),t._v(" "),n("h2",{attrs:{id:"redux-vs-mobx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redux-vs-mobx","aria-hidden":"true"}},[t._v("#")]),t._v(" Redux Vs Mobx")]),t._v(" "),n("p",[t._v("ç›®å‰æ¥çœ‹ï¼ŒRedux å·²æ˜¯ React åº”ç”¨çŠ¶æ€ç®¡ç†åº“ä¸­çš„éœ¸ä¸»äº†ï¼Œè€Œ Mobx åˆ™æ˜¯ä¸€æ–¹è¯¸ä¾¯ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦é€‰æ‹© Mobxï¼Œè€Œä¸æ˜¯ç»§ç»­æ²¿ç”¨ Redux å‘¢ï¼Œé‚£å°±éœ€è¦æ¯”è¾ƒä»–ä»¬çš„å¼‚åŒäº†ã€‚\nMobx å’Œ Redux éƒ½æ˜¯ JavaScript åº”ç”¨çŠ¶æ€ç®¡ç†åº“ï¼Œéƒ½é€‚ç”¨äº Reactï¼ŒAngularï¼ŒVueJs ç­‰æ¡†æ¶æˆ–åº“ï¼Œè€Œä¸æ˜¯å±€é™äºæŸä¸€ç‰¹å®š UI åº“ã€‚")]),t._v(" "),n("h2",{attrs:{id:"å…ˆç®€å•ä»‹ç»ä¸€ä¸‹-redux"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å…ˆç®€å•ä»‹ç»ä¸€ä¸‹-redux","aria-hidden":"true"}},[t._v("#")]),t._v(" å…ˆç®€å•ä»‹ç»ä¸€ä¸‹ Redux")]),t._v(" "),n("p",[t._v("è¦ä»‹ç» Reduxï¼Œæˆ‘ä»¬å°±ä¸å¾—ä¸è°ˆåˆ° Flux äº†")]),t._v(" "),n("p",[t._v("Flux æ˜¯ Facebook ç”¨æ¥å¼€å‘å®¢æˆ·ç«¯-æœåŠ¡ç«¯ web åº”ç”¨ç¨‹åºçš„åº”ç”¨æ¶æ„ï¼Œå®ƒæ›´å¤šæ˜¯ä¸€ç§æ¶æ„æ¨¡å¼ï¼Œè€Œéä¸€ä¸ªç‰¹å®šæ¡†æ¶ã€‚Flux çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ï¼šæ•°æ®å’Œé€»è¾‘æ°¸è¿œå•é¡¹æµåŠ¨ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:s(216),alt:"flux æ¨¡å‹"}})]),t._v(" "),n("p",[t._v("è€Œ Redux æ›´å¤šçš„æ˜¯éµå¾ª Flux æ¨¡å¼çš„ä¸€ç§å®ç°ï¼Œæ˜¯ä¸€ä¸ª JavaScript åº“ï¼Œå®ƒå…³æ³¨ç‚¹ä¸»è¦æ˜¯ä»¥ä¸‹å‡ æ–¹é¢ï¼š")]),t._v(" "),n("ul",[n("li",[t._v("Actionï¼šä¸€ä¸ª JavaScript å¯¹è±¡ï¼Œæè¿°åŠ¨ä½œç›¸å…³ä¿¡æ¯ï¼Œä¸»è¦åŒ…å« type å±æ€§å’Œ payload å±æ€§ï¼š\n"),n("ul",[n("li",[t._v("typeï¼šaction ç±»å‹ï¼›")]),t._v(" "),n("li",[t._v("payloadï¼šè´Ÿè½½æ•°æ®ï¼›")])])]),t._v(" "),n("li",[t._v("Reducerï¼šå®šä¹‰åº”ç”¨çŠ¶æ€å¦‚ä½•å“åº”ä¸åŒåŠ¨ä½œï¼ˆactionï¼‰ï¼Œå¦‚ä½•æ›´æ–°çŠ¶æ€ï¼›")]),t._v(" "),n("li",[t._v("Storeï¼šç®¡ç† action å’Œ reducer åŠå…¶å…³ç³»çš„å¯¹è±¡ï¼Œä¸»è¦æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š\n"),n("ul",[n("li",[t._v("ç»´æŠ¤åº”ç”¨çŠ¶æ€å¹¶æ”¯æŒè®¿é—®çŠ¶æ€ï¼ˆgetState()ï¼‰ï¼›")]),t._v(" "),n("li",[t._v("æ”¯æŒç›‘å¬ action çš„åˆ†å‘ï¼Œæ›´æ–°çŠ¶æ€ï¼ˆdispatch(action)ï¼‰ï¼›")]),t._v(" "),n("li",[t._v("æ”¯æŒè®¢é˜… store çš„å˜æ›´ï¼ˆsubscribe(listener)ï¼‰ï¼›")])])]),t._v(" "),n("li",[t._v("å¼‚æ­¥æµï¼šç”±äº Redux æ‰€æœ‰å¯¹ store çŠ¶æ€çš„å˜æ›´ï¼Œéƒ½åº”è¯¥é€šè¿‡ action è§¦å‘ï¼Œå¼‚æ­¥ä»»åŠ¡ï¼ˆé€šå¸¸éƒ½æ˜¯ä¸šåŠ¡æˆ–è·å–æ•°æ®ä»»åŠ¡ï¼‰ä¹Ÿä¸ä¾‹å¤–ï¼Œè€Œä¸ºäº†ä¸å°†ä¸šåŠ¡æˆ–æ•°æ®ç›¸å…³çš„ä»»åŠ¡æ··å…¥ React ç»„ä»¶ä¸­ï¼Œå°±éœ€è¦ä½¿ç”¨å…¶ä»–æ¡†æ¶é…åˆç®¡ç†å¼‚æ­¥ä»»åŠ¡æµç¨‹ï¼Œå¦‚"),n("code",[t._v("redux-thunk")]),t._v("ï¼Œ"),n("code",[t._v("redux-saga")]),t._v("ç­‰ï¼›")])]),t._v(" "),n("h2",{attrs:{id:"æ¥ä¸‹æ¥å›åˆ°ä¸»é¢˜-mobx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ¥ä¸‹æ¥å›åˆ°ä¸»é¢˜-mobx","aria-hidden":"true"}},[t._v("#")]),t._v(" æ¥ä¸‹æ¥å›åˆ°ä¸»é¢˜ -- Mobx")]),t._v(" "),n("p",[t._v("æ¥ä¸‹æ¥æˆ‘åˆ†ä¸ºä»¥ä¸‹å‡ éƒ¨æ¥è®²è§£ Mobxï¼š")]),t._v(" "),n("ul",[n("li",[t._v("Mobx æ˜¯ä»€ä¹ˆ")]),t._v(" "),n("li",[t._v("Mobx æ ¸å¿ƒæ¦‚å¿µ")]),t._v(" "),n("li",[t._v("åœ¨ React é‡Œä½¿ç”¨ Mobx")])]),t._v(" "),n("h3",{attrs:{id:"mobx-æ˜¯ä»€ä¹ˆï¼Ÿ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mobx-æ˜¯ä»€ä¹ˆï¼Ÿ","aria-hidden":"true"}},[t._v("#")]),t._v(" Mobx æ˜¯ä»€ä¹ˆï¼Ÿ")]),t._v(" "),n("p",[t._v("Mobx æ˜¯ä¸€ä¸ªé€šè¿‡å‡½æ•°å“åº”å¼ç¼–ç¨‹ï¼Œè®©çŠ¶æ€ç®¡ç†æ›´åŠ ç®€å•å’Œå®¹æ˜“æ‹“å±•çš„çŠ¶æ€ç®¡ç†åº“ï¼Œå®ƒéµå¾ªä¸€ä¸ªç®€å•çš„åŸåˆ™ï¼š")]),t._v(" "),n("p",[t._v("Anything that can be derived from the application state, should be derived. Automatically.\nä»»ä½•å¯ä»¥ä»åº”ç”¨çŠ¶æ€çš„è·å–çš„æ•°æ®ï¼Œéƒ½åº”è¯¥è‡ªåŠ¨è·å–ã€‚")]),t._v(" "),n("h3",{attrs:{id:"mobx-æ ¸å¿ƒæ¦‚å¿µ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mobx-æ ¸å¿ƒæ¦‚å¿µ","aria-hidden":"true"}},[t._v("#")]),t._v(" Mobx æ ¸å¿ƒæ¦‚å¿µ")]),t._v(" "),n("p",[n("img",{attrs:{src:s(217),alt:"mobx"}})]),t._v(" "),n("p",[t._v("æ ¸å¿ƒåŸç†ï¼šé€šè¿‡ action è§¦å‘ state çš„å˜åŒ–ï¼Œè¿›è€Œè§¦å‘ state çš„è¡ç”Ÿ(Derivations)å¯¹è±¡(computed value & Reactions)ã€‚")]),t._v(" "),n("p",[t._v("å¯ä»¥çœ‹å‡ºï¼ŒMobx çš„æ ¸å¿ƒæ¦‚å¿µæœ‰ä»¥ä¸‹å‡ ä¸ªï¼š")]),t._v(" "),n("ul",[n("li",[t._v("State(çŠ¶æ€) å¯¹åº”ä¸šåŠ¡çš„çŠ¶æ€")]),t._v(" "),n("li",[t._v("Action(åŠ¨ä½œ) æ˜¯ä»»ä¸€ä¸€æ®µå¯ä»¥æ”¹å˜çŠ¶æ€çš„ä»£ç ã€‚ç”¨æˆ·äº‹ä»¶ã€åç«¯æ•°æ®æ¨é€ã€é¢„å®šäº‹ä»¶ã€ç­‰ç­‰ã€‚åœ¨ MobX ä¸­å¯ä»¥æ˜¾å¼åœ°å®šä¹‰åŠ¨ä½œï¼Œå®ƒå¯ä»¥å¸®ä½ æŠŠä»£ç ç»„ç»‡çš„æ›´æ¸…æ™°ã€‚ å¦‚æœæ˜¯åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä½¿ç”¨ MobX çš„è¯ï¼ŒMobX ä¼šå¼ºåˆ¶åªæœ‰åœ¨åŠ¨ä½œä¹‹ä¸­æ‰å¯ä»¥ä¿®æ”¹çŠ¶æ€ã€‚")]),t._v(" "),n("li",[t._v("Derivations(è¡ç”Ÿ) æºè‡ªçŠ¶æ€å¹¶ä¸”ä¸ä¼šå†æœ‰ä»»ä½•è¿›ä¸€æ­¥çš„ç›¸äº’ä½œç”¨çš„ä¸œè¥¿å°±æ˜¯è¡ç”Ÿã€‚MobX åŒºåˆ†äº†ä¸¤ç§ç±»å‹çš„è¡ç”Ÿ:\n"),n("ul",[n("li",[t._v("Computed values(è®¡ç®—å€¼) - å®ƒä»¬æ˜¯æ°¸è¿œå¯ä»¥ä½¿ç”¨çº¯å‡½æ•°(pure function)ä»å½“å‰å¯è§‚å¯ŸçŠ¶æ€ä¸­è¡ç”Ÿå‡ºçš„å€¼ã€‚")]),t._v(" "),n("li",[t._v("Reactions(ååº”) - Reactions æ˜¯å½“çŠ¶æ€æ”¹å˜æ—¶éœ€è¦è‡ªåŠ¨å‘ç”Ÿçš„å‰¯ä½œç”¨ã€‚éœ€è¦æœ‰ä¸€ä¸ªæ¡¥æ¢æ¥è¿æ¥å‘½ä»¤å¼ç¼–ç¨‹(imperative programming)å’Œå“åº”å¼ç¼–ç¨‹(reactive programming)ã€‚æˆ–è€…è¯´å¾—æ›´æ˜ç¡®ä¸€äº›ï¼Œå®ƒä»¬æœ€ç»ˆéƒ½éœ€è¦å®ç° I / O æ“ä½œã€‚")])])])]),t._v(" "),n("h4",{attrs:{id:"state"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#state","aria-hidden":"true"}},[t._v("#")]),t._v(" State")]),t._v(" "),n("p",[t._v("åœ¨ Mobx ä¸­ï¼ŒState å¯¹åº”ä¸šåŠ¡çš„çŠ¶æ€ï¼Œé€šè¿‡ observableï¼Œå¯ä»¥ä½¿è¿™äº›çŠ¶æ€å˜å¾—å¯è§‚å¯Ÿã€‚")]),t._v(" "),n("p",[t._v("é€šå¸¸æ”¯æŒè¢« observable çš„ç±»å‹æœ‰ä¸‰ä¸ªï¼Œåˆ†åˆ«æ˜¯ Object, Array, Mapï¼Œå¯¹äºåŸå§‹ç±»å‹å¯ä»¥ä½¿ç”¨ "),n("code",[t._v("Obserable.box")]),t._v("ã€‚")]),t._v(" "),n("p",[t._v("ä¸‹é¢æ˜¯é’ˆå¯¹ Object, Array, Map çš„ä¸€ä¸ª ğŸŒ°:")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" observable "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mobx'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" observer "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mobx-react'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppState")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  @observable timer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä»¥ä¸Šä»£ç ä¹Ÿå¯ä»¥å†™ä¸ºï¼Œ")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// class AppState {")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   timer = 0")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// decorate(AppState, {")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   timer: observable,")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// })")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" appState "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppState")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ntype IProps "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  appState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    timer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n@observer\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Demo1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IProps"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidMount")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ³¨æ„äº†ï¼Œè¿™é‡Œç›´æ¥æ”¹å˜äº†propsçš„å€¼ï¼Œ")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("appState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("appState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" appState "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h2"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Demo1"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h2"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("appState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Demo1 appState"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("appState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),n("p",[t._v("è¿™å¯ä»¥è¯´æ˜¯ä¸€æ®µå®Œæ•´çš„ä»£ç ï¼Œä½†è¿™ç§å†™æ³•ä¼šæœ‰ä¸€ä¸ªå¼Šç«¯ï¼Œæ›´æ”¹ state çš„åœ°æ–¹ä¼šæ¯”è¾ƒæ•£ä¹±ï¼Œå½“é¡¹ç›®è¶Šæ¥è¶Šå¤§æ—¶ï¼Œä½ æ ¹æœ¬éš¾ä»¥å®šä½åˆ°ä¿®æ”¹ state çš„åœ°æ–¹ï¼Œè¿™æ—¶å€™å°±éœ€è¦ç»Ÿä¸€å®šåˆ¶ä¿®æ”¹ state æ–¹å¼ã€‚")]),t._v(" "),n("h4",{attrs:{id:"action"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#action","aria-hidden":"true"}},[t._v("#")]),t._v(" Action")]),t._v(" "),n("p",[t._v("åœ¨è®² State æ—¶ï¼Œæœ‰ä¸€ä¸ªå¾ˆå¤§çš„å¼Šç«¯ï¼Œå¦‚æœä¸è¿›è¡Œé™åˆ¶ state ä¿®æ”¹çš„æ–¹å¼ï¼Œå½“é¡¹ç›®è¶Šæ¥è¶Šå¤§æ—¶ï¼ŒçŠ¶æ€çš„å˜æ›´ä¼šå¾ˆéš¾é¢„æµ‹ï¼Œåœ¨ redux ä¸­ï¼Œå”¯ä¸€å¯ä»¥æ›´æ”¹ state çš„é€”å¾„ä¾¿æ˜¯ dispatch ä¸€ä¸ª actionã€‚è¿™ç§çº¦æŸæ€§å¸¦æ¥çš„ä¸€ä¸ªå¥½å¤„æ˜¯å¯ç»´æŠ¤æ€§ã€‚æ•´ä¸ª state åªè¦æ”¹å˜å¿…å®šæ˜¯é€šè¿‡ action è§¦å‘çš„ï¼Œå¯¹æ­¤åªè¦æ‰¾åˆ° reducer ä¸­å¯¹åº”çš„ action ä¾¿èƒ½æ‰¾åˆ°å½±å“æ•°æ®æ”¹å˜çš„åŸå› ã€‚è€Œ mobx ä¸­ï¼Œä¹Ÿæä¾›äº†è¿™æ ·ä¸€ç§æ–¹å¼ã€‚")]),t._v(" "),n("p",[t._v("é»˜è®¤ Mobx å¹¶ä¸å¼ºåˆ¶æ‰€æœ‰ state çš„æ”¹å˜å¿…é¡»é€šè¿‡ action æ¥æ”¹å˜ï¼Œè¿™ä¸»è¦é€‚ç”¨äºä¸€äº›è¾ƒå°çš„é¡¹ç›®ã€‚å¯¹äºè¾ƒå¤§å‹çš„ï¼Œéœ€è¦å¤šäººåˆä½œçš„é¡¹ç›®æ¥è¯´ï¼Œå¯ä»¥ä½¿ç”¨ Mobx æä¾›çš„ api configure æ¥å¼ºåˆ¶ï¼Œå…¶ä¸­"),n("code",[t._v("enforceActions")]),t._v("å°±æ˜¯ç”¨äºè®¾ç½®æ”¹å˜çŠ¶æ€çš„ä¸¥æ ¼æ¨¡å¼ã€‚\n"),n("code",[t._v("enforceActions")]),t._v("æœ‰å¦‚ä¸‹å€¼ï¼š")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("never")]),t._v("(é»˜è®¤): å¯ä»¥åœ¨ä»»æ„åœ°æ–¹ä¿®æ”¹çŠ¶æ€")]),t._v(" "),n("li",[n("code",[t._v("observed")]),t._v(": åœ¨æŸå¤„è§‚å¯Ÿåˆ°çš„æ‰€æœ‰çŠ¶æ€éƒ½éœ€è¦é€šè¿‡åŠ¨ä½œè¿›è¡Œæ›´æ”¹ã€‚åœ¨æ­£å¼åº”ç”¨ä¸­æ¨èæ­¤ä¸¥æ ¼æ¨¡å¼ã€‚")]),t._v(" "),n("li",[n("code",[t._v("always")]),t._v(": çŠ¶æ€å§‹ç»ˆéœ€è¦é€šè¿‡åŠ¨ä½œæ¥æ›´æ–°(å®é™…ä¸Šè¿˜åŒ…æ‹¬åˆ›å»º)")])]),t._v(" "),n("p",[n("code",[t._v("enforceActions")]),t._v("åŸç†ï¼šé€šè¿‡æ”¹å˜å…¨å±€çš„ strictMode ä»¥åŠ allowStateChanges å±æ€§çš„æ–¹å¼æ¥å®ç°å¼ºåˆ¶ä½¿ç”¨ actionã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" observable"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" configure"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mobx'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®åå¦‚æœä¸é€šè¿‡actionè¿›è¡Œä¿®æ”¹å°±ä¼šæœ‰æŠ¥é”™æç¤º")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("configure")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  enforceActions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'observed'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppState")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  @observable timer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ·»åŠ action")]),t._v("\n  @action "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("changeTimer")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" appState "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppState")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ntype IProps "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  appState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    timer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" number\n    changeTimer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Function\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n@observer\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Demo2")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IProps"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidMount")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("appState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("changeTimer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" appState "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h2"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Demo2"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h2"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("appState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Demo2 appState"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("appState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),n("p",[t._v("è®¾ç½®åªèƒ½é€šè¿‡ action æ‰èƒ½æ”¹å˜ action æ—¶ï¼Œé‚£ Mobx æ˜¯å¦‚ä½•è¿›è¡Œå¼‚æ­¥å¤„ç†å‘¢ï¼Ÿ")]),t._v(" "),n("p",[t._v("å’Œ Redux ä¸åŒçš„æ˜¯ï¼ŒMobx åœ¨å¼‚æ­¥å¤„ç†ä¸Šå¹¶ä¸å¤æ‚ï¼Œä¸éœ€è¦å¼•å…¥é¢å¤–çš„ç±»ä¼¼ redux-thunkã€redux-saga è¿™æ ·çš„åº“ã€‚\nå”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¯¹äºå¼‚æ­¥ action é‡Œçš„å›è°ƒï¼Œè‹¥è¯¥å›è°ƒä¹Ÿè¦ä¿®æ”¹ observable çš„å€¼ï¼Œé‚£ä¹ˆè¯¥å›è°ƒä¹Ÿéœ€è¦ç»‘å®š actionã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" observable"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" configure"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" runInAction "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mobx'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" observer "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mobx-react'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Button "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'antd'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("configure")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  enforceActions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'observed'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppState")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  @observable timer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n  @action "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("changeTimer")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("num"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" number")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" num "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  @action "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("asyncChangeTimer")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("num"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" number")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›´æ¥æ”¹å˜ä¹Ÿä¼šæŠ¥é”™ï¼Œå¿…é¡»å†æ¬¡è°ƒç”¨ä¸€ä¸ªactionæ–¹æ³•æ¥æ”¹å˜")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this.timer += num || 2 // ä¼šæŠ¥é”™")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// éœ€è¦è°ƒç”¨åŒæ­¥çš„actionæ–¹æ³•è¿›è¡Œæ”¹å˜stateï¼Œè¿™é‡Œæœ‰ä¸‰ç§æ–¹å¼")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. è°ƒç”¨å·²æœ‰action")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this.changeTimer(num)")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. å¯ä»¥ç›´æ¥ç”¨actionåŒ…è£¹")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// action('actionAsyncChangeTimer', () => {")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   this.timer += num || 2")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// })")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3. å¦‚æœä¸æƒ³åˆ°å¤„å†™actionï¼Œå¯ä»¥ä½¿ç”¨Mobxæä¾›çš„å·¥å…·å‡½æ•°runInActionæ¥ç®€åŒ–æ“ä½œã€‚runInActionå…¶å®")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("runInAction")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" num "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ³¨æ„ï¼ŒrunInAction è¿˜å¯ä»¥ç»™å®šç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºåç§°ã€‚runInAction(f) å®é™…ä¸Šæ˜¯ action(f)() çš„è¯­æ³•ç³–ã€‚")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" appState "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppState")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ntype IProps "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  appState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    timer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" number\n    changeTimer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Function\n    asyncChangeTimer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Function\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n@observer\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Demo2")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IProps"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" appState "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h2"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Demo2"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h2"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("appState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Button\n          onClick"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("appState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("changeTimer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n          add\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Button"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Button\n          onClick"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("appState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncChangeTimer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" add\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Button"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Demo2 appState"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("appState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),n("p",[t._v("ä¸Šé¢ä»…ä»…ä»‹ç»äº†è°ƒç”¨ä¸€ä¸ªæ–°çš„æˆ–è€…ç±»ä¼¼ä¸€ä¸ªæ–°çš„ action è¿›è¡Œå¼‚æ­¥å¤„ç†ï¼Œå®é™…ä¸Šå¯ä»¥ç›´æ¥ç”¨ async/await æ–¹å¼è¿›è¡Œå¤„ç†")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("@action "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("asyncChangeTimer")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("num"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" number")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" addNum "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("number"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("num"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("changeTimer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("addNum"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("action çš„å®˜æ–¹æ–‡æ¡£å¯ä»¥çœ‹è¿™é‡Œï¼š"),n("a",{attrs:{href:"https://cn.mobx.js.org/refguide/action.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cn.mobx.js.org/refguide/action.html"),n("OutboundLink")],1),t._v("\naction å¼‚æ­¥å¤„ç†ï¼š"),n("a",{attrs:{href:"https://cn.mobx.js.org/best/actions.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cn.mobx.js.org/best/actions.html"),n("OutboundLink")],1)]),t._v(" "),n("h4",{attrs:{id:"computed"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#computed","aria-hidden":"true"}},[t._v("#")]),t._v(" computed")]),t._v(" "),n("p",[t._v("Mobx ä¸­ state çš„è®¾è®¡åŸåˆ™å’Œ redux æœ‰ä¸€ç‚¹æ˜¯ç›¸åŒçš„ï¼Œé‚£å°±æ˜¯å°½å¯èƒ½ä¿è¯ state è¶³å¤Ÿå°ï¼Œè¶³å¤ŸåŸå­ã€‚è¿™æ ·è®¾è®¡çš„åŸåˆ™ä¸è¨€è€Œå–»ï¼Œæ— è®ºæ˜¯ç»´æŠ¤æ€§è¿˜æ˜¯æ€§èƒ½ã€‚é‚£ä¹ˆå¯¹äºä¾èµ– state çš„æ•°æ®è€Œè¡ç”Ÿå‡ºçš„æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ computedã€‚")]),t._v(" "),n("p",[t._v("ç®€è€Œè¨€ä¹‹ï¼Œä½ æœ‰ä¸€ä¸ªå€¼ï¼Œè¯¥å€¼çš„ç»“æœä¾èµ–äº stateï¼Œå¹¶ä¸”è¯¥å€¼ä¹Ÿéœ€è¦è¢« obserableï¼Œé‚£ä¹ˆå°±ä½¿ç”¨ computedã€‚")]),t._v(" "),n("p",[t._v("é€šå¸¸åº”è¯¥å°½å¯èƒ½çš„ä½¿ç”¨è®¡ç®—å±æ€§ï¼Œå¹¶ä¸”ç”±äºå…¶å‡½æ•°å¼çš„ç‰¹ç‚¹ï¼Œå¯ä»¥æœ€å¤§åŒ–ä¼˜åŒ–æ€§èƒ½ã€‚å¦‚æœè®¡ç®—å±æ€§ä¾èµ–çš„ state æ²¡æ”¹å˜ï¼Œæˆ–è€…è¯¥è®¡ç®—å€¼æ²¡æœ‰è¢«å…¶ä»–è®¡ç®—å€¼æˆ–å“åº”ï¼ˆreactionï¼‰ä½¿ç”¨ï¼Œcomputed ä¾¿ä¸ä¼šè¿è¡Œã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œcomputed å¤„äºæš‚åœçŠ¶æ€ï¼Œæ­¤æ—¶è‹¥è¯¥è®¡ç®—å±æ€§ä¸å†è¢« observableã€‚é‚£ä¹ˆå…¶ä¾¿ä¼šè¢« Mobx åƒåœ¾å›æ”¶ã€‚")]),t._v(" "),n("div",{staticClass:"language-ts extra-class"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" observable"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" autorun"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" computed "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mobx'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" observer "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mobx-react'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Checkbox"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Button "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'antd'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" todo "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),t._v("\n  title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v("\n  checked"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" TypeTodos "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Array")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("todo"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppState")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  @observable todos"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" TypeTodos "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'haha'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" checked"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  @computed "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toDoLength")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("todos"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" appState "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppState")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("autorun")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'todos.length'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" appState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("todos"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("autorun")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'toDoLength'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" appState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("toDoLength"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nappState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("todos"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'haha-1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" checked"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nappState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("todos"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'haha-1-replace'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  checked"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¾“å‡ºå¦‚ä¸‹ï¼š")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'todos.length' 2")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'toDoLength' 2")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'todos.length' 2")]),t._v("\n")])])]),n("p",[t._v("æœ€åä¸€è¡Œå…¶å®åªæ˜¯æ”¹äº†æ•°ç»„ä¸­çš„ä¸€ä¸ªå€¼ï¼Œä½†æ˜¯ä¹Ÿè§¦å‘äº† autorun çš„æ‰§è¡Œã€‚ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œæ­¤æ—¶å¦‚æœç”¨ computed ä¾¿ä¼šè§£å†³è¯¥é—®é¢˜ã€‚")]),t._v(" "),n("h4",{attrs:{id:"autorun"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#autorun","aria-hidden":"true"}},[t._v("#")]),t._v(" autorun")]),t._v(" "),n("p",[t._v("å¦ä¸€ä¸ªå“åº” state çš„ api ä¾¿æ˜¯ autorunã€‚å’Œ computed ç±»ä¼¼ï¼Œæ¯å½“ä¾èµ–çš„å€¼æ”¹å˜æ—¶ï¼Œå…¶éƒ½ä¼šæ”¹å˜ã€‚ä¸åŒçš„æ˜¯ï¼Œautorun æ²¡æœ‰äº† computed çš„ä¼˜åŒ–ï¼ˆå½“ç„¶ï¼Œä¾èµ–å€¼æœªæ”¹å˜çš„æƒ…å†µä¸‹ä¹Ÿä¸ä¼šé‡æ–°è¿è¡Œï¼Œä½†ä¸ä¼šè¢«è‡ªåŠ¨å›æ”¶ï¼‰ã€‚å› æ­¤åœ¨ä½¿ç”¨åœºæ™¯æ¥è¯´ï¼Œautorun é€šå¸¸ç”¨æ¥æ‰§è¡Œä¸€äº›æœ‰å‰¯ä½œç”¨çš„ã€‚ä¾‹å¦‚æ‰“å°æ—¥å¿—ï¼Œæ›´æ–° UI ç­‰ç­‰ã€‚")]),t._v(" "),n("h4",{attrs:{id:"reaction"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#reaction","aria-hidden":"true"}},[t._v("#")]),t._v(" reaction")]),t._v(" "),n("p",[t._v("Derivations ä¸»è¦æœ‰ä¸¤ç§ç±»å‹ç»„æˆï¼š"),n("code",[t._v("computed")]),t._v(" å’Œ "),n("code",[t._v("Reactions")]),t._v("ã€‚")]),t._v(" "),n("p",[n("code",[t._v("Reactions")]),t._v("è¿˜æœ‰ä¸€ä¸ª api å°±å«åš"),n("code",[t._v("reaction")]),t._v("ï¼Œä¸Šé¢çš„"),n("code",[t._v("autorun")]),t._v("æ˜¯é€šè¿‡ "),n("code",[t._v("reaction")]),t._v(" å®ç°çš„ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" observable"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" autorun"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reaction "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mobx'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" todos "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("observable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'todo1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    done"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'todo2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    done"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// reaction çš„é”™è¯¯ç”¨æ³•: å¯¹ length çš„å˜åŒ–ä½œå‡ºååº”, è€Œä¸æ˜¯ title çš„å˜åŒ–!")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" reaction1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("reaction")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" todos"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("length")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reaction 1:'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" todos"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("todo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" todo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', '")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// reaction çš„æ­£ç¡®ç”¨æ³•: å¯¹ length å’Œ title çš„å˜åŒ–ä½œå‡ºååº”")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" reaction2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("reaction")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" todos"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("todo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" todo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("titles")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reaction 2:'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" titles"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', '")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// autorun å¯¹å®ƒå‡½æ•°ä¸­ä½¿ç”¨çš„ä»»ä½•ä¸œè¥¿ä½œå‡ºååº”")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" autorun1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("autorun")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'autorun 1:'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" todos"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("todo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" todo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', '")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("autorun1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reaction1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reaction2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ntodos"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'todo3'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" done"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¾“å‡º:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// reaction 1: todo1, todo2, todo3")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// reaction 2: todo1, todo2, todo3")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// autorun 1: todo1, todo2, todo3")]),t._v("\n\ntodos"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'todo1 haha'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¾“å‡º:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// reaction 2: todo1 haha, todo2, todo3")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// autorun 1: todo1 haha, todo2, todo3")]),t._v("\n")])])]),n("p",[t._v("åœ¨ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œreaction1ã€reaction2 å’Œ autorun1 éƒ½ä¼šå¯¹ todos æ•°ç»„ä¸­çš„ todo çš„æ·»åŠ ã€åˆ é™¤æˆ–æ›¿æ¢ä½œå‡ºååº”ã€‚ ä½†åªæœ‰ reaction2 å’Œ autorun ä¼šå¯¹æŸä¸ª todo çš„ title å˜åŒ–ä½œå‡ºååº”ï¼Œå› ä¸ºåœ¨ reaction2 çš„æ•°æ®è¡¨è¾¾å¼ä¸­ä½¿ç”¨äº† titleï¼Œè€Œ reaction1 çš„æ•°æ®è¡¨è¾¾å¼æ²¡æœ‰ä½¿ç”¨ã€‚ autorun è¿½è¸ªå®Œæ•´çš„å‰¯ä½œç”¨ï¼Œå› æ­¤å®ƒå°†å§‹ç»ˆæ­£ç¡®è§¦å‘ï¼Œä½†ä¹Ÿæ›´å®¹æ˜“æ„å¤–åœ°è®¿é—®ç›¸å…³æ•°æ®")]),t._v(" "),n("p",[t._v("ç²—ç•¥åœ°è®²ï¼Œreaction æ˜¯ computed(expression).observe(action(sideEffect)) æˆ– autorun(() => action(sideEffect)(expression)) çš„è¯­æ³•ç³–ã€‚")]),t._v(" "),n("h3",{attrs:{id:"mobx-åŸç†åˆ†æ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mobx-åŸç†åˆ†æ","aria-hidden":"true"}},[t._v("#")]),t._v(" Mobx åŸç†åˆ†æ")]),t._v(" "),n("h2",{attrs:{id:"redux-å’Œ-mobx-çš„å¯¹æ¯”"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redux-å’Œ-mobx-çš„å¯¹æ¯”","aria-hidden":"true"}},[t._v("#")]),t._v(" Redux å’Œ Mobx çš„å¯¹æ¯”")]),t._v(" "),n("p",[t._v("ä»‹ç»å®Œ Redux å’Œ Mobxï¼Œä¸‹é¢æˆ‘ä»¬è¿›è¡Œä¸€ä¸‹å¯¹æ¯”")]),t._v(" "),n("h3",{attrs:{id:"å‡½æ•°å¼å’Œé¢å‘å¯¹è±¡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‡½æ•°å¼å’Œé¢å‘å¯¹è±¡","aria-hidden":"true"}},[t._v("#")]),t._v(" å‡½æ•°å¼å’Œé¢å‘å¯¹è±¡")]),t._v(" "),n("p",[t._v("Redux æ›´å¤šçš„æ˜¯éµå¾ªå‡½æ•°å¼ç¼–ç¨‹ï¼ˆFunctional Programming, FPï¼‰æ€æƒ³ï¼Œè€Œ Mobx åˆ™æ›´å¤šä»é¢ç›¸å¯¹è±¡è§’åº¦è€ƒè™‘é—®é¢˜ã€‚\nRedux æå€¡ç¼–å†™å‡½æ•°å¼ä»£ç ï¼Œå¦‚ reducer å°±æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼ˆpure functionï¼‰ï¼Œå¦‚ä¸‹ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("assign")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("çº¯å‡½æ•°ï¼Œæ¥å—è¾“å…¥ï¼Œç„¶åè¾“å‡ºç»“æœï¼Œé™¤æ­¤ä¹‹å¤–ä¸ä¼šæœ‰ä»»ä½•å½±å“ï¼Œä¹ŸåŒ…æ‹¬ä¸ä¼šå½±å“æ¥æ”¶çš„å‚æ•°ï¼›å¯¹äºç›¸åŒçš„è¾“å…¥æ€»æ˜¯è¾“å‡ºç›¸åŒçš„ç»“æœã€‚")]),t._v(" "),n("p",[t._v("Mobx è®¾è®¡æ›´å¤šåå‘äºé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰å’Œå“åº”å¼ç¼–ç¨‹ï¼ˆReactive Programmingï¼‰ï¼Œé€šå¸¸å°†çŠ¶æ€åŒ…è£…æˆå¯è§‚å¯Ÿå¯¹è±¡ï¼Œäºæ˜¯æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å¯è§‚å¯Ÿå¯¹è±¡çš„æ‰€æœ‰èƒ½åŠ›ï¼Œä¸€æ—¦çŠ¶æ€å¯¹è±¡å˜æ›´ï¼Œå°±èƒ½è‡ªåŠ¨è·å¾—æ›´æ–°ã€‚")]),t._v(" "),n("h3",{attrs:{id:"å•ä¸€-store-å’Œå¤š-store"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å•ä¸€-store-å’Œå¤š-store","aria-hidden":"true"}},[t._v("#")]),t._v(" å•ä¸€ store å’Œå¤š store")]),t._v(" "),n("p",[t._v("store æ˜¯åº”ç”¨ç®¡ç†æ•°æ®çš„åœ°æ–¹ï¼Œåœ¨ Redux åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬æ€»æ˜¯å°†æ‰€æœ‰å…±äº«çš„åº”ç”¨æ•°æ®é›†ä¸­åœ¨ä¸€ä¸ªå¤§çš„ store ä¸­ï¼Œè€Œ Mobx åˆ™é€šå¸¸æŒ‰æ¨¡å—å°†åº”ç”¨çŠ¶æ€åˆ’åˆ†ï¼Œåœ¨å¤šä¸ªç‹¬ç«‹çš„ store ä¸­ç®¡ç†ã€‚")]),t._v(" "),n("h3",{attrs:{id:"javascript-å¯¹è±¡å’Œå¯è§‚å¯Ÿå¯¹è±¡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#javascript-å¯¹è±¡å’Œå¯è§‚å¯Ÿå¯¹è±¡","aria-hidden":"true"}},[t._v("#")]),t._v(" JavaScript å¯¹è±¡å’Œå¯è§‚å¯Ÿå¯¹è±¡")]),t._v(" "),n("p",[t._v("Redux é»˜è®¤ä»¥ JavaScript åŸç”Ÿå¯¹è±¡å½¢å¼å­˜å‚¨æ•°æ®ï¼Œè€Œ Mobx ä½¿ç”¨å¯è§‚å¯Ÿå¯¹è±¡ï¼š")]),t._v(" "),n("p",[t._v("Redux éœ€è¦æ‰‹åŠ¨è¿½è¸ªæ‰€æœ‰çŠ¶æ€å¯¹è±¡çš„å˜æ›´ï¼›\nMobx ä¸­å¯ä»¥ç›‘å¬å¯è§‚å¯Ÿå¯¹è±¡ï¼Œå½“å…¶å˜æ›´æ—¶å°†è‡ªåŠ¨è§¦å‘ç›‘å¬ï¼›")]),t._v(" "),n("h3",{attrs:{id:"ä¸å¯å˜ï¼ˆimmutableï¼‰å’Œå¯å˜ï¼ˆmutableï¼‰"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸å¯å˜ï¼ˆimmutableï¼‰å’Œå¯å˜ï¼ˆmutableï¼‰","aria-hidden":"true"}},[t._v("#")]),t._v(" ä¸å¯å˜ï¼ˆImmutableï¼‰å’Œå¯å˜ï¼ˆMutableï¼‰")]),t._v(" "),n("p",[t._v("Redux çŠ¶æ€å¯¹è±¡é€šå¸¸æ˜¯ä¸å¯å˜çš„ï¼ˆImmutableï¼‰ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("REQUEST_POST")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  \t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("assign")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("payload"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("post\n  \t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    retur nstate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("æˆ‘ä»¬ä¸èƒ½ç›´æ¥æ“ä½œçŠ¶æ€å¯¹è±¡ï¼Œè€Œæ€»æ˜¯åœ¨åŸæ¥çŠ¶æ€å¯¹è±¡åŸºç¡€ä¸Šè¿”å›ä¸€ä¸ªæ–°çš„çŠ¶æ€å¯¹è±¡ï¼Œè¿™æ ·å°±èƒ½å¾ˆæ–¹ä¾¿çš„è¿”å›åº”ç”¨ä¸Šä¸€çŠ¶æ€ï¼›è€Œ Mobx ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨æ–°å€¼æ›´æ–°çŠ¶æ€å¯¹è±¡ã€‚")]),t._v(" "),n("h3",{attrs:{id:"mobx-react-å’Œ-react-redux"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mobx-react-å’Œ-react-redux","aria-hidden":"true"}},[t._v("#")]),t._v(" mobx-react å’Œ react-redux")]),t._v(" "),n("p",[t._v("ä½¿ç”¨ Redux å’Œ React åº”ç”¨è¿æ¥æ—¶ï¼Œéœ€è¦ä½¿ç”¨ react-redux æä¾›çš„ Provider å’Œ connectï¼š")]),t._v(" "),n("ol",[n("li",[t._v("Providerï¼šè´Ÿè´£å°† Store æ³¨å…¥ React åº”ç”¨ï¼›")]),t._v(" "),n("li",[t._v("connectï¼šè´Ÿè´£å°† store state æ³¨å…¥å®¹å™¨ç»„ä»¶ï¼Œå¹¶é€‰æ‹©ç‰¹å®šçŠ¶æ€ä½œä¸ºå®¹å™¨ç»„ä»¶ props ä¼ é€’ï¼›")])]),t._v(" "),n("p",[t._v("å¯¹äº Mobx è€Œè¨€ï¼ŒåŒæ ·éœ€è¦ä¸¤ä¸ªæ­¥éª¤ï¼š")]),t._v(" "),n("ol",[n("li",[t._v("Providerï¼šä½¿ç”¨ mobx-react æä¾›çš„ Provider å°†æ‰€æœ‰ stores æ³¨å…¥åº”ç”¨ï¼›")]),t._v(" "),n("li",[t._v("ä½¿ç”¨ inject å°†ç‰¹å®š store æ³¨å…¥æŸç»„ä»¶ï¼Œstore å¯ä»¥ä¼ é€’çŠ¶æ€æˆ– actionï¼›ç„¶åä½¿ç”¨ observer ä¿è¯ç»„ä»¶èƒ½å“åº” store ä¸­çš„å¯è§‚å¯Ÿå¯¹è±¡ï¼ˆobservableï¼‰å˜æ›´ï¼Œå³ store æ›´æ–°ï¼Œç»„ä»¶è§†å›¾å“åº”å¼æ›´æ–°ã€‚")])]),t._v(" "),n("h2",{attrs:{id:"ç»“è¯­"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è¯­","aria-hidden":"true"}},[t._v("#")]),t._v(" ç»“è¯­")]),t._v(" "),n("p",[t._v("å¦‚æœå¯¹ redux æˆ–è€… Mobx çš„åŸç†æ„Ÿå…´è¶£ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ä»¥ä¸‹æ–‡ç« ï¼š")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://mp.weixin.qq.com/s/idWmfUbPVVqK7Yi0_9NC4A",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®Œå…¨ç†è§£ reduxï¼ˆä»é›¶å®ç°ä¸€ä¸ª reduxï¼‰"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://segmentfault.com/a/1190000013682735",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç”¨æ•…äº‹è§£è¯» Mobx æºç "),n("OutboundLink")],1),t._v(" æˆ‘è‡ªå·±éƒ½è¿˜æ²¡æ¥å¾—åŠçœ‹ ğŸ˜‚")])]),t._v(" "),n("p",[t._v("æœ€ååˆ†äº«ä¸€ä¸ªå¼€æºåº“ï¼Œæˆ‘è‡ªå·±å†™çš„ redux è§£å†³æ–¹æ¡ˆåº“ï¼Œè¿˜æ²¡å†™å¤šä¹…ï¼Œä¸å¤Ÿå®Œå–„ï¼Œå¤§å®¶çœ‹äº†æ¬¢è¿ç»™æˆ‘ææå»ºè®®ï¼š"),n("a",{attrs:{href:"https://github.com/ht1131589588/demacia",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/ht1131589588/demacia"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"å‚è€ƒ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒ","aria-hidden":"true"}},[t._v("#")]),t._v(" å‚è€ƒ")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://cn.redux.js.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mobx ä¸­æ–‡æ–‡æ¡£"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.im/post/5a7fd72c5188257a766324ae",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä½ éœ€è¦ Mobx è¿˜æ˜¯ Redux"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://tate-young.github.io/2019/03/20/react-mobx.html#reactions-%E5%8F%8D%E5%BA%94",target:"_blank",rel:"noopener noreferrer"}},[t._v("MobX ç®€ä»‹"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.im/post/5a3e611a6fb9a0451239279d",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mobx â€”â€” React çŠ¶æ€ç®¡ç†å¦ä¸€æ¡è·¯"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);